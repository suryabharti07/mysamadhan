<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome for icons (added for header) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6; /* Light gray background */
            margin: 0; /* Ensures no default body margin from browser */
        }
        /* Custom scrollbar for table container */
        .table-container::-webkit-scrollbar {
            height: 8px;
            background-color: #f1f1f1;
            border-radius: 10px;
        }
        .table-container::-webkit-scrollbar-thumb {
            background-color: #cbd5e1; /* Gray-300 */
            border-radius: 10px;
        }
        .table-container::-webkit-scrollbar-thumb:hover {
            background-color: #94a3b8; /* Gray-400 */
        }

        /* Full-screen modal overlay */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7); /* Semi-transparent black */
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000; /* Ensure it's on top */
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background-color: #fff;
            width: 95%; /* Slightly less than full width */
            height: 95%; /* Slightly less than full height */
            border-radius: 0.75rem; /* rounded-xl */
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .modal-header {
            padding: 1rem;
            display: flex;
            justify-content: flex-end;
            border-bottom: 1px solid #e2e8f0; /* Gray-200 */
        }

        .modal-body {
            flex-grow: 1; /* Take up remaining space */
        }

        .modal-body iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        /* Custom styling for the three-dot menu icon (from header) */
        .three-dots-icon {
            font-size: 1.25rem; /* Equivalent to text-xl */
            color: #5f6368;
        }

        /* Dropdown specific styles for desktop (hover) (from header) */
        .dropdown-menu {
            position: absolute;
            background-color: white;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1000;
            min-width: 160px;
            border-radius: 0.375rem; /* rounded-md */
            overflow: hidden;
            padding: 0.5rem 0;
            opacity: 0; /* Initially hidden */
            visibility: hidden; /* Initially hidden */
            transition: opacity 0.3s ease, visibility 0.3s ease; /* Smooth transition */
            top: 100%; /* Position below the parent link */
            left: 0;
        }

        /* Class to show the dropdown (from header) */
        .show-menu {
            opacity: 1;
            visibility: visible;
        }

        .dropdown-item {
            padding: 0.5rem 1rem;
            display: block;
            color: #5f6368; /* text-gray-700 */
            text-decoration: none;
            font-size: 0.875rem; /* text-sm */
            white-space: nowrap; /* Prevent text wrapping */
        }

        .dropdown-item:hover {
            background-color: #f3f4f6; /* hover:bg-gray-100 */
        }
    </style>
</head>
<body>
    <!-- Header Section (from provided code) -->
    <header class="bg-white shadow-sm py-3 px-6 flex items-center justify-between w-full border-b border-gray-200">
        <!-- Left Section: Logo and Navigation Links -->
        <div class="flex items-center space-x-8">
            <!-- Logo -->
            <img src="https://i.postimg.cc/nrW2HNXp/samadhan-kendra-logo.png" alt="Samadhan Kendra Logo" class="h-6">

            <!-- Desktop Navigation Links -->
            <nav class="hidden lg:flex items-center space-x-6 text-gray-700 text-sm">
                <a href="#" class="hover:text-blue-600">Home</a>

                <!-- About us Dropdown -->
                <div class="relative dropdown" id="aboutUsDropdown">
                    <a href="#" class="hover:text-blue-600 flex items-center" aria-haspopup="true" aria-expanded="false">
                        About us
                        <i class="fas fa-chevron-down ml-1 text-xs"></i>
                    </a>
                    <div class="dropdown-menu">
                        <a href="#" class="dropdown-item">Our Journey</a>
                        <a href="#" class="dropdown-item">Vision</a>
                        <a href="#" class="dropdown-item">Mission</a>
                        <a href="#" class="dropdown-item">Management And Administrative structure</a>
                    </div>
                </div>

                <!-- Programs Dropdown -->
                <div class="relative dropdown" id="programsDropdown">
                    <a href="#" class="hover:text-blue-600 flex items-center" aria-haspopup="true" aria-expanded="false">
                        Programs
                        <i class="fas fa-chevron-down ml-1 text-xs"></i>
                    </a>
                    <div class="dropdown-menu">
                        <a href="#" class="dropdown-item">SU-SIKSHALAYA</a>
                        <a href="#" class="dropdown-item">Apna Vidyalaya</a>
                        <a href="#" class="dropdown-item">Sports</a>
                        <a href="#" class="dropdown-item">WSG</a>
                        <a href="#" class="dropdown-item">Environment</a>
                    </div>
                </div>

                <a href="#" class="hover:text-blue-600">Founder</a>
                <a href="#" class="hover:text-blue-600">Gallery</a>
            </nav>
        </div>

        <!-- Right Section: Search, Utility Links, Three Dots, Start Button -->
        <div class="flex items-center space-x-4">
            <!-- Search Icon -->
            <button class="p-2 rounded-full hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 cursor-pointer" aria-label="Search">
                <i class="fas fa-search text-gray-600"></i>
            </button>

            <!-- Desktop Utility Links -->
            <nav class="hidden md:flex items-center space-x-4 text-gray-700 text-sm lg:block">
                <a href="#" class="hover:text-blue-600">Download</a>
                <a href="#" class="hover:text-blue-600">Contact</a>
                <!-- Updated Console link for desktop to open in same tab -->
                <a href="https://mysamadhan.in/search" class="hover:text-blue-600">Console</a>
            </nav>

            <!-- Three Dots Menu (Desktop) -->
           <button class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md shadow-md transition duration-300 ease-in-out hidden lg:block cursor-pointer" onclick="window.location.href='https://mysamadhan.in/search'">
                Start
            </button>

            <!-- Start Button (Desktop) -->
            <button class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md shadow-md transition duration-300 ease-in-out hidden lg:block cursor-pointer" onclick="window.location.href='https://script.google.com/macros/s/AKfycbwRVdIJgFWqdC4S29wl7QndNQHPSSzWbJ8auXPNF9UyqyUhLn3chATH8VoleS3W4OztiA/exec'">
                Start
            </button>

            <!-- Hamburger Icon for Mobile -->
            <button id="mobileMenuButton" class="p-2 rounded-full hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 lg:hidden cursor-pointer" aria-label="Open mobile menu">
                <i class="fas fa-bars text-gray-600"></i>
            </button>
        </div>
    </header>

    <!-- Mobile Menu Overlay (from provided code) -->
    <div id="mobileMenu" class="fixed inset-0 bg-white z-50 transform translate-x-full transition-transform duration-300 ease-in-out lg:hidden">
        <div class="flex justify-end p-6">
            <button id="closeMobileMenuButton" class="text-gray-600 hover:text-gray-900 focus:outline-none cursor-pointer" aria-label="Close mobile menu">
                <i class="fas fa-times text-2xl"></i>
            </button>
        </div>
        <nav class="flex flex-col items-start p-6 space-y-4 text-gray-700 text-lg">
            <a href="#" class="hover:text-blue-600 w-full py-2">Home</a>

            <!-- About us Dropdown (Mobile) -->
            <div class="w-full">
                <button class="flex items-center justify-between w-full py-2 text-left hover:text-blue-600 cursor-pointer" id="mobileAboutUsToggle" aria-haspopup="true" aria-expanded="false">
                    About us
                    <i class="fas fa-chevron-down ml-1 text-xs"></i>
                </button>
                <div class="pl-4 mt-2 space-y-2 hidden" id="mobileAboutUsMenu">
                    <a href="#" class="block py-1 text-sm hover:text-blue-600">Our Journey</a>
                    <a href="#" class="block py-1 text-sm hover:text-blue-600">Vision</a>
                    <a href="#" class="block py-1 text-sm hover:text-blue-600">Mission</a>
                    <a href="#" class="block py-1 text-sm hover:text-blue-600">Management And Administrative structure</a>
                </div>
            </div>

            <!-- Programs Dropdown (Mobile) -->
            <div class="w-full">
                <button class="flex items-center justify-between w-full py-2 text-left hover:text-blue-600 cursor-pointer" id="mobileProgramsToggle" aria-haspopup="true" aria-expanded="false">
                    Programs
                    <i class="fas fa-chevron-down ml-1 text-xs"></i>
                </button>
                <div class="pl-4 mt-2 space-y-2 hidden" id="mobileProgramsMenu">
                    <a href="#" class="block py-1 text-sm hover:text-blue-600">SU-SIKSHALAYA</a>
                    <a href="#" class="block py-1 text-sm hover:text-blue-600">Apna Vidyalaya</a>
                    <a href="#" class="block py-1 text-sm hover:text-blue-600">Sports</a>
                    <a href="#" class="block py-1 text-sm hover:text-blue-600">WSG</a>
                    <a href="#" class="block py-1 text-sm hover:text-blue-600">Environment</a>
                </div>
            </div>

            <a href="#" class="hover:text-blue-600 w-full py-2">Founder</a>
            <a href="#" class="hover:text-blue-600 w-full py-2">Gallery</a>

            <!-- Mobile Utility Links -->
            <a href="#" class="hover:text-blue-600 w-full py-2">Download</a>
            <a href="#" class="hover:text-blue-600 w-full py-2">Contact</a>
            <!-- Updated Console link for mobile to open in same tab -->
            <a href="https://mysamadhan.in/search" class="hover:text-blue-600 w-full py-2">Console</a>

            <!-- Mobile Start Button -->
            <button class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md shadow-md transition duration-300 ease-in-out hidden lg:block cursor-pointer" onclick="window.location.href='https://mysamadhan.in/search'">
                Start
            </button>
        </nav>
    </div>

    <!-- Main content area for Admin Dashboard -->
    <main class="p-4 sm:p-6 lg:p-8">
        <div class="max-w-7xl mx-auto bg-white shadow-lg rounded-xl p-6 sm:p-8">
            <h1 class="text-3xl font-bold text-gray-800 mb-6 text-center">Admin Dashboard</h1>

            <!-- Search and Filter (Optional - Add if needed) -->
            <div class="mb-6 flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0 sm:space-x-4">
                <input type="text" id="searchInput" placeholder="Search by User Name..."
                       class="w-full sm:w-auto flex-grow px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out">
                <button class="w-full sm:w-auto bg-blue-600 text-white px-6 py-2 rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition duration-200 ease-in-out">
                    Add New Entry
                </button>
            </div>

            <!-- Table Container for Horizontal Scrolling -->
            <div class="overflow-x-auto rounded-lg shadow-md table-container">
                <table class="min-w-full divide-y divide-gray-200">
                    <thead class="bg-gray-50">
                        <tr>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">User Name</th>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Teacher Name</th>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Father/Husband Name</th>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Contact No</th>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Center Time</th>
                            <th scope="col" class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">Action</th>
                        </tr>
                    </thead>
                    <tbody id="dataTableBody" class="bg-white divide-y divide-gray-200">
                        <!-- Data will be populated here by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
    </main>

    <!-- Full-screen Modal for Sheet Link -->
    <div id="sheetModal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <button id="closeModalBtn" class="text-gray-500 hover:text-gray-700 focus:outline-none">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <iframe id="sheetIframe" src="" title="Google Sheet View"></iframe>
            </div>
        </div>
    </div>

    <script>
        let allTableData = []; // Store the full data once fetched

        document.addEventListener('DOMContentLoaded', () => {
            const dataTableBody = document.getElementById('dataTableBody');
            const sheetModal = document.getElementById('sheetModal');
            const closeModalBtn = document.getElementById('closeModalBtn');
            const sheetIframe = document.getElementById('sheetIframe');
            const searchInput = document.getElementById('searchInput'); // Get the search input element

            // This URL is your deployed Google Apps Script web app link.
            // It will fetch the data from your Google Sheet.
            const GOOGLE_SHEET_DATA_URL = 'https://script.google.com/macros/s/AKfycbxP5bi_dBPn5WgNdNEACcNu-w-arxpJIyFdS10RHvRCqOg6vlZNeiq9cFRBolWvV4N5gw/exec';

            // --- Dummy Data (This will only be used if fetching from the Google Sheet URL fails) ---
            const dummyData = [
                {
                    "User Name": "Alice Johnson",
                    "Teacher Name": "Mr. Smith",
                    "FATHER/HUSBAND NAME": "Robert Johnson",
                    "CONTACT NO": "123-456-7890",
                    "CENTER TIME": "10:00 AM",
                    "WEB LINK": "https://example.com/alice",
                    "SHEET LINK": "https://docs.google.com/spreadsheets/d/12345_dummy_sheet_id_alice/edit?usp=sharing"
                },
                {
                    "User Name": "Bob Williams",
                    "Teacher Name": "Ms. Davis",
                    "FATHER/HUSBAND NAME": "Sarah Williams",
                    "CONTACT NO": "098-765-4321",
                    "CENTER TIME": "02:00 PM",
                    "WEB LINK": "https://example.com/bob",
                    "SHEET LINK": "https://docs.google.com/spreadsheets/d/12345_dummy_sheet_id_bob/edit?usp=sharing"
                },
                {
                    "User Name": "Charlie Brown",
                    "Teacher Name": "Mrs. White",
                    "FATHER/HUSBAND NAME": "Lucy Brown",
                    "CONTACT NO": "555-123-4567",
                    "CENTER TIME": "09:30 AM",
                    "WEB LINK": "https://example.com/charlie",
                    "SHEET LINK": "https://docs.google.com/spreadsheets/d/12345_dummy_sheet_id_charlie/edit?usp=sharing"
                }
            ];
            // --- END DUMMY DATA ---

            /**
             * Fetches data from the specified Google Sheet URL.
             * This function will replace the dummy data if successful.
             */
            async function fetchData() {
                try {
                    const response = await fetch(GOOGLE_SHEET_DATA_URL);
                    if (!response.ok) {
                        // If the response is not OK, throw an error
                        throw new Error(`HTTP error! status: ${response.status}. Please check your Google Apps Script deployment and permissions.`);
                    }
                    const data = await response.json();
                    return data;
                } catch (error) {
                    console.error("Could not fetch data from Google Sheet:", error);
                    // Fallback to dummy data for demonstration if fetching fails
                    console.warn("Using dummy data as a fallback. Please ensure your Google Apps Script is correctly deployed and accessible.");
                    return dummyData;
                }
            }

            /**
             * Populates the table with data.
             * @param {Array<Object>} data - An array of objects, where each object is a row.
             */
            function populateTable(data) {
                dataTableBody.innerHTML = ''; // Clear existing rows
                if (data.length === 0) {
                    const noDataRow = document.createElement('tr');
                    noDataRow.innerHTML = `<td colspan="6" class="px-6 py-4 text-center text-sm text-gray-500">No data available.</td>`;
                    dataTableBody.appendChild(noDataRow);
                    return;
                }

                data.forEach(rowData => {
                    const row = document.createElement('tr');
                    row.classList.add('hover:bg-gray-50'); // Hover effect for rows

                    // Create table cells for each column
                    const userNameCell = document.createElement('td');
                    userNameCell.classList.add('px-6', 'py-4', 'whitespace-nowrap', 'text-sm', 'font-medium', 'text-gray-900');
                    userNameCell.textContent = rowData["User Name"] || '';

                    const teacherNameCell = document.createElement('td');
                    teacherNameCell.classList.add('px-6', 'py-4', 'whitespace-nowrap', 'text-sm', 'text-gray-500');
                    teacherNameCell.textContent = rowData["Teacher Name"] || '';

                    const fatherHusbandNameCell = document.createElement('td');
                    fatherHusbandNameCell.classList.add('px-6', 'py-4', 'whitespace-nowrap', 'text-sm', 'text-gray-500');
                    fatherHusbandNameCell.textContent = rowData["FATHER/HUSBAND NAME"] || '';

                    const contactNoCell = document.createElement('td');
                    contactNoCell.classList.add('px-6', 'py-4', 'whitespace-nowrap', 'text-sm', 'text-gray-500');
                    contactNoCell.textContent = rowData["CONTACT NO"] || '';

                    const centerTimeCell = document.createElement('td');
                    centerTimeCell.classList.add('px-6', 'py-4', 'whitespace-nowrap', 'text-sm', 'text-gray-500');
                    centerTimeCell.textContent = rowData["CENTER TIME"] || '';

                    // Action buttons cell
                    const actionCell = document.createElement('td');
                    actionCell.classList.add('px-6', 'py-4', 'whitespace-nowrap', 'text-center', 'text-sm', 'font-medium'); // Changed to text-center for buttons

                    const webButton = document.createElement('button');
                    webButton.textContent = 'Web';
                    webButton.classList.add(
                        'inline-flex', 'items-center', 'px-4', 'py-2', 'border', 'border-transparent', 'text-sm', 'font-medium',
                        'rounded-md', 'shadow-sm', 'text-white', 'bg-green-600', 'hover:bg-green-700', 'focus:outline-none',
                        'focus:ring-2', 'focus:ring-offset-2', 'focus:ring-green-500', 'transition', 'duration-150', 'ease-in-out',
                        'mr-2', 'rounded-lg'
                    );
                    webButton.onclick = () => {
                        if (rowData["WEB LINK"]) {
                            window.open(rowData["WEB LINK"], '_blank');
                        } else {
                            console.warn("Web link not available for this entry.");
                            // Optionally, show a small message on the UI
                        }
                    };

                    const sheetButton = document.createElement('button');
                    sheetButton.textContent = 'Sheet';
                    sheetButton.classList.add(
                        'inline-flex', 'items-center', 'px-4', 'py-2', 'border', 'border-transparent', 'text-sm', 'font-medium',
                        'rounded-md', 'shadow-sm', 'text-white', 'bg-indigo-600', 'hover:bg-indigo-700', 'focus:outline-none',
                        'focus:ring-2', 'focus:ring-offset-2', 'focus:ring-indigo-500', 'transition', 'duration-150', 'ease-in-out',
                        'rounded-lg'
                    );
                    // Modified to open in a full-screen modal (iframe)
                    sheetButton.onclick = () => {
                        if (rowData["SHEET LINK"]) {
                            sheetIframe.src = rowData["SHEET LINK"];
                            sheetModal.classList.add('active'); // Show modal
                        } else {
                            console.warn("Sheet link not available for this entry.");
                            // Optionally, show a small message on the UI
                        }
                    };

                    actionCell.appendChild(webButton);
                    actionCell.appendChild(sheetButton);

                    // Append all cells to the row
                    row.appendChild(userNameCell);
                    row.appendChild(teacherNameCell);
                    row.appendChild(fatherHusbandNameCell);
                    row.appendChild(contactNoCell);
                    row.appendChild(centerTimeCell);
                    row.appendChild(actionCell);

                    dataTableBody.appendChild(row);
                });
            }

            // Function to filter the table data
            function filterTable() {
                const filterText = searchInput.value.toLowerCase();
                const filteredData = allTableData.filter(rowData => {
                    // Filter by "User Name" column
                    const userName = (rowData["User Name"] || '').toLowerCase();
                    return userName.includes(filterText);
                });
                populateTable(filteredData);
            }

            // Add event listener to the search input
            searchInput.addEventListener('keyup', filterTable);


            // Close modal functionality
            closeModalBtn.addEventListener('click', () => {
                sheetModal.classList.remove('active'); // Hide modal
                sheetIframe.src = ''; // Clear iframe src to stop any loaded content
            });

            // Close modal if clicked outside content (optional, but good UX)
            sheetModal.addEventListener('click', (event) => {
                if (event.target === sheetModal) {
                    sheetModal.classList.remove('active');
                    sheetIframe.src = '';
                }
            });

            // Initial data load and table population
            fetchData().then(data => {
                allTableData = data; // Store the full data
                populateTable(allTableData); // Populate table with all data initially
            });

            // --- JavaScript for Header (from provided code) ---
            // Desktop dropdown logic (hover)
            const dropdownTimeouts = {};

            function setupDropdown(dropdownId, menuClass) {
                const dropdown = document.getElementById(dropdownId);
                if (dropdown) {
                    const toggleLink = dropdown.querySelector('a[aria-haspopup="true"]');
                    const menu = dropdown.querySelector(`.${menuClass}`);
                    if (menu && toggleLink) {
                        dropdown.addEventListener('mouseenter', () => {
                            if (dropdownTimeouts[dropdownId]) {
                                clearTimeout(dropdownTimeouts[dropdownId]);
                            }
                            menu.classList.add('show-menu');
                            toggleLink.setAttribute('aria-expanded', 'true');
                        });
                        dropdown.addEventListener('mouseleave', () => {
                            dropdownTimeouts[dropdownId] = setTimeout(() => {
                                menu.classList.remove('show-menu');
                                toggleLink.setAttribute('aria-expanded', 'false');
                            }, 150);
                        });
                        menu.addEventListener('mouseenter', () => {
                            if (dropdownTimeouts[dropdownId]) {
                                clearTimeout(dropdownTimeouts[dropdownId]);
                            }
                        });
                        menu.addEventListener('mouseleave', () => {
                            dropdownTimeouts[dropdownId] = setTimeout(() => {
                                menu.classList.remove('show-menu');
                                toggleLink.setAttribute('aria-expanded', 'false');
                            }, 150);
                        });
                    }
                }
            }

            setupDropdown('aboutUsDropdown', 'dropdown-menu');
            setupDropdown('programsDropdown', 'dropdown-menu');

            // Mobile menu logic (click)
            const mobileMenuButton = document.getElementById('mobileMenuButton');
            const mobileMenu = document.getElementById('mobileMenu');
            const closeMobileMenuButton = document.getElementById('closeMobileMenuButton');

            if (mobileMenuButton && mobileMenu && closeMobileMenuButton) {
                mobileMenuButton.addEventListener('click', () => {
                    mobileMenu.classList.remove('translate-x-full');
                    mobileMenu.classList.add('translate-x-0');
                    mobileMenuButton.setAttribute('aria-expanded', 'true');
                });

                closeMobileMenuButton.addEventListener('click', () => {
                    mobileMenu.classList.remove('translate-x-0');
                    mobileMenu.classList.add('translate-x-full');
                    mobileMenuButton.setAttribute('aria-expanded', 'false');
                });
            }

            // Mobile dropdowns (click)
            function setupMobileDropdownToggle(toggleId, menuId) {
                const toggleButton = document.getElementById(toggleId);
                const menu = document.getElementById(menuId);

                if (toggleButton && menu) {
                    toggleButton.addEventListener('click', () => {
                        const isHidden = menu.classList.toggle('hidden');
                        const icon = toggleButton.querySelector('i');
                        if (icon) {
                            icon.classList.toggle('fa-chevron-down');
                            icon.classList.toggle('fa-chevron-up');
                        }
                        toggleButton.setAttribute('aria-expanded', !isHidden);
                    });
                }
            }

            setupMobileDropdownToggle('mobileAboutUsToggle', 'mobileAboutUsMenu');
            setupMobileDropdownToggle('mobileProgramsToggle', 'mobileProgramsMenu');
            // --- End JavaScript for Header ---
        });
    </script>
</body>
</html>
